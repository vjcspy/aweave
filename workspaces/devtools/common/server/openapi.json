{
  "openapi": "3.0.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "RootRedirectController_redirectToDebate",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "RootRedirect"
        ]
      }
    },
    "/health": {
      "get": {
        "operationId": "DebateController_healthCheck",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Server is healthy"
          }
        },
        "summary": "Health check",
        "tags": [
          "Debate"
        ]
      }
    },
    "/debates": {
      "get": {
        "operationId": "DebateController_listDebates",
        "parameters": [
          {
            "name": "state",
            "required": false,
            "in": "query",
            "description": "Filter by debate state",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pending_first_opponent",
            "required": false,
            "in": "query",
            "description": "When true, return only AWAITING_OPPONENT debates with no opponent CLAIM yet (only MOTION). Overrides state filter.",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Max results to return",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Pagination offset",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of debates",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListDebatesResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "List debates with optional filtering",
        "tags": [
          "Debate"
        ]
      },
      "post": {
        "operationId": "DebateController_createDebate",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDebateBodyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Debate created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WriteResultResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Create a new debate with initial MOTION argument",
        "tags": [
          "Debate"
        ]
      }
    },
    "/debates/{id}": {
      "get": {
        "operationId": "DebateController_getDebate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Debate UUID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Max arguments to return",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Debate detail",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetDebateResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get debate with motion and arguments",
        "tags": [
          "Debate"
        ]
      },
      "delete": {
        "operationId": "DebateController_deleteDebate",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Debate UUID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Debate deleted"
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Delete a debate and all its arguments",
        "tags": [
          "Debate"
        ]
      }
    },
    "/debates/{id}/arguments": {
      "post": {
        "operationId": "DebateController_submitArgument",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Debate UUID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitArgumentBodyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Argument submitted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WriteResultResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Action not allowed in current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Submit a CLAIM argument",
        "tags": [
          "Debate"
        ]
      }
    },
    "/debates/{id}/appeal": {
      "post": {
        "operationId": "DebateController_submitAppeal",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Debate UUID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitAppealBodyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Appeal submitted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WriteResultResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Action not allowed in current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Submit an APPEAL",
        "tags": [
          "Debate"
        ]
      }
    },
    "/debates/{id}/resolution": {
      "post": {
        "operationId": "DebateController_submitResolution",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Debate UUID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestCompletionBodyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Resolution submitted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WriteResultResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Action not allowed in current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Request debate completion (RESOLUTION)",
        "tags": [
          "Debate"
        ]
      }
    },
    "/debates/{id}/intervention": {
      "post": {
        "operationId": "DebateController_submitIntervention",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Debate UUID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitInterventionBodyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Intervention submitted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WriteResultResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Action not allowed in current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Submit an INTERVENTION (arbitrator only)",
        "tags": [
          "Debate"
        ]
      }
    },
    "/debates/{id}/ruling": {
      "post": {
        "operationId": "DebateController_submitRuling",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Debate UUID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitRulingBodyDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ruling submitted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WriteResultResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Action not allowed in current state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Submit a RULING (arbitrator only)",
        "tags": [
          "Debate"
        ]
      }
    },
    "/debates/{id}/poll": {
      "get": {
        "operationId": "DebateController_poll",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Debate UUID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "argument_id",
            "required": false,
            "in": "query",
            "description": "Last seen argument UUID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "role",
            "required": true,
            "in": "query",
            "schema": {
              "enum": [
                "proposer",
                "opponent"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Poll result â€” new argument or timeout",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/PollResultNewResponseDto"
                    },
                    {
                      "$ref": "#/components/schemas/PollResultNoNewResponseDto"
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponseDto"
                }
              }
            }
          }
        },
        "summary": "Long-poll for new arguments",
        "tags": [
          "Debate"
        ]
      }
    },
    "/configs": {
      "get": {
        "operationId": "ConfigsController_listConfigs",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListConfigsResponseDto"
                }
              }
            }
          }
        },
        "summary": "List all available config domains and files",
        "tags": [
          "configs"
        ]
      }
    },
    "/configs/{domain}/{name}": {
      "get": {
        "operationId": "ConfigsController_getConfigDetails",
        "parameters": [
          {
            "name": "domain",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetConfigResponseDto"
                }
              }
            }
          }
        },
        "summary": "Get details (effective, default, user) for a specific config",
        "tags": [
          "configs"
        ]
      },
      "put": {
        "operationId": "ConfigsController_saveConfig",
        "parameters": [
          {
            "name": "domain",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveConfigRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SaveConfigResponseDto"
                }
              }
            }
          }
        },
        "summary": "Save override yaml for a specific config",
        "tags": [
          "configs"
        ]
      }
    },
    "/skills": {
      "get": {
        "operationId": "SkillsController_listSkills",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSkillsResponseDto"
                }
              }
            }
          }
        },
        "summary": "List all available skills and their active status",
        "tags": [
          "skills"
        ]
      }
    },
    "/skills/{skillId}/toggle": {
      "post": {
        "operationId": "SkillsController_toggleSkill",
        "parameters": [
          {
            "name": "skillId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToggleSkillRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ToggleSkillResponseDto"
                }
              }
            }
          }
        },
        "summary": "Toggle active status of a skill",
        "tags": [
          "skills"
        ]
      }
    },
    "/logs/sources": {
      "get": {
        "operationId": "LogsController_listSources",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListLogSourcesResponseDto"
                }
              }
            }
          }
        },
        "summary": "List discovered log sources with date ranges",
        "tags": [
          "logs"
        ]
      }
    },
    "/logs/query": {
      "get": {
        "operationId": "LogsController_queryLogs",
        "parameters": [
          {
            "name": "name",
            "required": true,
            "in": "query",
            "description": "Log source name or \"all\"",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "required": true,
            "in": "query",
            "description": "Date in YYYY-MM-DD format",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "level",
            "required": false,
            "in": "query",
            "description": "Minimum level: trace/debug/info/warn/error/fatal",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Case-insensitive substring match on msg",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "cursor",
            "required": false,
            "in": "query",
            "description": "Opaque cursor from previous response for pagination",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Max entries to return (default: 500, max: 2000)",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueryLogsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Query log entries with filters and cursor pagination",
        "tags": [
          "logs"
        ]
      }
    },
    "/logs/stream": {
      "get": {
        "operationId": "LogsController_streamLogs",
        "parameters": [
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "Log source name or \"all\" (default: \"all\")",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "summary": "Stream new log entries via SSE (always watches today)",
        "tags": [
          "logs"
        ]
      }
    },
    "/workspace/context": {
      "get": {
        "operationId": "WorkspaceMemoryController_getContext",
        "parameters": [
          {
            "name": "workspace",
            "required": true,
            "in": "query",
            "description": "Workspace name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domain",
            "required": false,
            "in": "query",
            "description": "Domain within workspace",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "repository",
            "required": false,
            "in": "query",
            "description": "Repository within domain",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "topics",
            "required": false,
            "in": "query",
            "description": "Comma-separated topic names (e.g. \"plans,features\"). Each topic returns { overview_t1, entries }; decisions/lessons include full body_t1 per entry.",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "include_defaults",
            "required": false,
            "in": "query",
            "description": "Include defaults (scope_overview_t1, folder_structure, overviews, loaded_skills, decisions_t0, lessons_t0)",
            "schema": {
              "default": true,
              "type": "boolean"
            }
          },
          {
            "name": "filter_status",
            "required": false,
            "in": "query",
            "description": "Comma-separated status filter for plans",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filter_tags",
            "required": false,
            "in": "query",
            "description": "Comma-separated tag filter",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "filter_category",
            "required": false,
            "in": "query",
            "description": "Category filter",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetContextResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid scope or parameters"
          }
        },
        "summary": "Get workspace context",
        "tags": [
          "WorkspaceMemory"
        ]
      }
    }
  },
  "info": {
    "title": "Aweave Server API",
    "description": "",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "schemas": {
      "DebateDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "UUID"
          },
          "title": {
            "type": "string"
          },
          "debate_type": {
            "type": "string",
            "enum": [
              "coding_plan_debate",
              "general_debate"
            ]
          },
          "state": {
            "type": "string",
            "enum": [
              "AWAITING_OPPONENT",
              "AWAITING_PROPOSER",
              "AWAITING_ARBITRATOR",
              "INTERVENTION_PENDING",
              "CLOSED"
            ]
          },
          "created_at": {
            "type": "string",
            "description": "ISO datetime"
          },
          "updated_at": {
            "type": "string",
            "description": "ISO datetime"
          }
        },
        "required": [
          "id",
          "title",
          "debate_type",
          "state",
          "created_at",
          "updated_at"
        ]
      },
      "ArgumentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "debate_id": {
            "type": "string"
          },
          "parent_id": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "enum": [
              "MOTION",
              "CLAIM",
              "APPEAL",
              "RULING",
              "INTERVENTION",
              "RESOLUTION"
            ]
          },
          "role": {
            "type": "string",
            "enum": [
              "proposer",
              "opponent",
              "arbitrator"
            ]
          },
          "content": {
            "type": "string"
          },
          "client_request_id": {
            "type": "string",
            "nullable": true
          },
          "seq": {
            "type": "number"
          },
          "created_at": {
            "type": "string",
            "description": "ISO datetime"
          }
        },
        "required": [
          "id",
          "debate_id",
          "parent_id",
          "type",
          "role",
          "content",
          "client_request_id",
          "seq",
          "created_at"
        ]
      },
      "ListDebatesDataDto": {
        "type": "object",
        "properties": {
          "debates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DebateDto"
            }
          },
          "total": {
            "type": "number"
          }
        },
        "required": [
          "debates",
          "total"
        ]
      },
      "ListDebatesResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/ListDebatesDataDto"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "GetDebateDataDto": {
        "type": "object",
        "properties": {
          "debate": {
            "$ref": "#/components/schemas/DebateDto"
          },
          "motion": {
            "nullable": true,
            "allOf": [
              {
                "$ref": "#/components/schemas/ArgumentDto"
              }
            ]
          },
          "arguments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ArgumentDto"
            }
          }
        },
        "required": [
          "debate",
          "motion",
          "arguments"
        ]
      },
      "GetDebateResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/GetDebateDataDto"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "WriteResultDataDto": {
        "type": "object",
        "properties": {
          "debate": {
            "$ref": "#/components/schemas/DebateDto"
          },
          "argument": {
            "$ref": "#/components/schemas/ArgumentDto"
          }
        },
        "required": [
          "debate",
          "argument"
        ]
      },
      "WriteResultResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/WriteResultDataDto"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "PollArgumentDataDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "seq": {
            "type": "number"
          },
          "type": {
            "type": "string",
            "enum": [
              "MOTION",
              "CLAIM",
              "APPEAL",
              "RULING",
              "INTERVENTION",
              "RESOLUTION"
            ]
          },
          "role": {
            "type": "string",
            "enum": [
              "proposer",
              "opponent",
              "arbitrator"
            ]
          },
          "parent_id": {
            "type": "string",
            "nullable": true
          },
          "content": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "seq",
          "type",
          "role",
          "parent_id",
          "content",
          "created_at"
        ]
      },
      "PollResultNewDataDto": {
        "type": "object",
        "properties": {
          "has_new_argument": {
            "type": "boolean",
            "example": true
          },
          "action": {
            "type": "string"
          },
          "debate_state": {
            "type": "string"
          },
          "argument": {
            "$ref": "#/components/schemas/PollArgumentDataDto"
          }
        },
        "required": [
          "has_new_argument",
          "action",
          "debate_state",
          "argument"
        ]
      },
      "PollResultNewResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/PollResultNewDataDto"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "PollResultNoNewDataDto": {
        "type": "object",
        "properties": {
          "has_new_argument": {
            "type": "boolean",
            "example": false
          },
          "debate_id": {
            "type": "string"
          },
          "last_seen_seq": {
            "type": "number"
          }
        },
        "required": [
          "has_new_argument",
          "debate_id",
          "last_seen_seq"
        ]
      },
      "PollResultNoNewResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/PollResultNoNewDataDto"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "ErrorDetailDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "example": "VALIDATION_ERROR",
            "description": "Error code (NOT_FOUND, INVALID_INPUT, ACTION_NOT_ALLOWED, etc.)"
          },
          "message": {
            "type": "string",
            "example": "Invalid debate_id format"
          },
          "suggestion": {
            "type": "string",
            "description": "Suggested action to fix the error"
          },
          "current_state": {
            "type": "string",
            "description": "Current debate state (present in ACTION_NOT_ALLOWED errors)"
          },
          "allowed_roles": {
            "description": "Roles allowed for this action (present in ACTION_NOT_ALLOWED errors)",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "code",
          "message"
        ]
      },
      "ErrorResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "error": {
            "$ref": "#/components/schemas/ErrorDetailDto"
          }
        },
        "required": [
          "success",
          "error"
        ]
      },
      "CreateDebateBodyDto": {
        "type": "object",
        "properties": {
          "debate_id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "debate_type": {
            "type": "string",
            "enum": [
              "coding_plan_debate",
              "general_debate"
            ]
          },
          "motion_content": {
            "type": "string"
          },
          "client_request_id": {
            "type": "string"
          }
        },
        "required": [
          "debate_id",
          "title",
          "debate_type",
          "motion_content",
          "client_request_id"
        ]
      },
      "SubmitArgumentBodyDto": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "proposer",
              "opponent"
            ]
          },
          "target_id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "client_request_id": {
            "type": "string"
          }
        },
        "required": [
          "role",
          "target_id",
          "content",
          "client_request_id"
        ]
      },
      "SubmitAppealBodyDto": {
        "type": "object",
        "properties": {
          "target_id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "client_request_id": {
            "type": "string"
          }
        },
        "required": [
          "target_id",
          "content",
          "client_request_id"
        ]
      },
      "RequestCompletionBodyDto": {
        "type": "object",
        "properties": {
          "target_id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "client_request_id": {
            "type": "string"
          }
        },
        "required": [
          "target_id",
          "content",
          "client_request_id"
        ]
      },
      "SubmitInterventionBodyDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string"
          },
          "client_request_id": {
            "type": "string"
          }
        }
      },
      "SubmitRulingBodyDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string"
          },
          "close": {
            "type": "boolean"
          },
          "client_request_id": {
            "type": "string"
          }
        },
        "required": [
          "content"
        ]
      },
      "ConfigFileDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "path": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "path"
        ]
      },
      "ConfigDomainDto": {
        "type": "object",
        "properties": {
          "domain": {
            "type": "string"
          },
          "files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConfigFileDto"
            }
          }
        },
        "required": [
          "domain",
          "files"
        ]
      },
      "GetConfigResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "rawUserConfig": {
            "type": "string",
            "description": "The raw YAML content from the user override file"
          },
          "userConfigPath": {
            "type": "string",
            "description": "The absolute path to the user override file"
          },
          "rawDefaultConfig": {
            "type": "string",
            "description": "The raw YAML content from the default file"
          },
          "defaultConfigPath": {
            "type": "string",
            "description": "The absolute path to the default file"
          },
          "effectiveConfig": {
            "type": "object",
            "description": "The effective parsed configuration object"
          }
        },
        "required": [
          "success",
          "rawUserConfig",
          "userConfigPath",
          "rawDefaultConfig",
          "defaultConfigPath",
          "effectiveConfig"
        ]
      },
      "ListConfigsResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConfigDomainDto"
            }
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "SaveConfigRequestDto": {
        "type": "object",
        "properties": {
          "rawContent": {
            "type": "string",
            "description": "The raw YAML content to save as user override"
          }
        },
        "required": [
          "rawContent"
        ]
      },
      "SaveConfigResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        },
        "required": [
          "success"
        ]
      },
      "SkillDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "path": {
            "type": "string",
            "description": "Absolute path to the SKILL.md file"
          },
          "active": {
            "type": "boolean",
            "description": "Whether the skill is active (based on .aweave/loaded-skills.yaml)"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "path",
          "active"
        ]
      },
      "ListSkillsResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SkillDto"
            }
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "ToggleSkillRequestDto": {
        "type": "object",
        "properties": {
          "active": {
            "type": "boolean"
          }
        },
        "required": [
          "active"
        ]
      },
      "ToggleSkillResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/SkillDto"
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "LogEntryDto": {
        "type": "object",
        "properties": {
          "level": {
            "type": "number",
            "description": "Pino log level number (10=trace, 20=debug, 30=info, 40=warn, 50=error, 60=fatal)"
          },
          "time": {
            "type": "number",
            "description": "Unix timestamp in milliseconds"
          },
          "msg": {
            "type": "string",
            "description": "Log message"
          },
          "context": {
            "type": "string",
            "description": "NestJS context (class/module name)"
          },
          "correlationId": {
            "type": "string",
            "description": "Correlation ID for request tracing"
          },
          "service": {
            "type": "string",
            "description": "Service name"
          },
          "source": {
            "type": "string",
            "description": "Log file source name (useful when name=all)"
          },
          "meta": {
            "type": "object",
            "description": "Additional metadata"
          }
        },
        "required": [
          "level",
          "time",
          "msg"
        ]
      },
      "LogSourceDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Log source name (e.g. nestjs-server, cli)"
          },
          "dates": {
            "description": "Available dates in YYYY-MM-DD format, sorted descending",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "latestDate": {
            "type": "string",
            "description": "Most recent date with log entries"
          }
        },
        "required": [
          "name",
          "dates",
          "latestDate"
        ]
      },
      "PaginationDto": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "number",
            "description": "Max entries requested"
          },
          "returned": {
            "type": "number",
            "description": "Number of entries actually returned"
          },
          "hasMore": {
            "type": "boolean",
            "description": "Whether older entries exist before this page"
          },
          "nextCursor": {
            "type": "object",
            "description": "Opaque cursor for fetching the next (older) page"
          }
        },
        "required": [
          "limit",
          "returned",
          "hasMore"
        ]
      },
      "ListLogSourcesResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LogSourceDto"
            }
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "QueryLogsResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LogEntryDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationDto"
          }
        },
        "required": [
          "success",
          "data",
          "pagination"
        ]
      },
      "GetContextResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object"
          }
        },
        "required": [
          "success",
          "data"
        ]
      }
    }
  }
}