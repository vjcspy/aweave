# Megazord Events — Abstract

Ingests robot telemetry and stores structured incoming events, schemas, providers, and subscriptions; seeds schemas from schemas/events/*.json (now includes SHORT_INACTIVITY, LONGER_IN_BED_SHORT/LONG, updated NO_TOILET_ACTIVITY_ALARM). Fans out every incoming event into outgoing events per subscription; service subscriptions publish to the status queue (optionally suffixed per subscription), trigger subscriptions call the Trigger Service. Caches schemas/providers with cron-driven refreshes after a full startup load, keeping lookups fast and consistent with the database. Registers robot/event pairs with external adaptors (currently Sensara) whenever subscriptions change so hardware feeds stay aligned. Added optional queue field on subscription creation; when set, outgoing events send to ${statusQueue.address}-{queue}. Validates alphanumeric/hyphen and length ≤128; integration/unit tests cover queue routing (PR #49). Added SHORT_INACTIVITY schema plus generator guard for existing files and FORCE_GENERATE=true regen path; exposed yarn generate:schemas script (PR #47). Added LONGER_IN_BED_SHORT and LONGER_IN_BED_LONG schemas; removed unused Sensara adaptor mappings for these events (Nov 19 2025). NO_TOILET_ACTIVITY_ALARM schema added then tuned to
